<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
   <link rel="stylesheet" href="/ftest-makie/libs/highlight/styles/github.min.css">
   
  <link rel="stylesheet" href="/ftest-makie/css/franklin.css">
   <title>Test printf</title>  
</head>
<body>

<!-- Content appended here -->
<div class="franklin-content"><h2 id="test_printf"><a href="#test_printf" class="header-anchor">Test printf</a></h2>
<pre><code class="language-julia">using GMT, Printf
@sprintf &quot;this is a &#37;s &#37;15.1f&quot; &quot;test&quot; 34.567</code></pre><pre><code class="plaintext code-output">"this is a test            34.6"</code></pre>
<h2 id="test_case"><a href="#test_case" class="header-anchor">Test case</a></h2>
<pre><code class="language-julia">using GMT, Printf

pratt &#61; &#91;-142.65 56.25 400&#93;

# First generate gravity image w/ shading, label Pratt, and draw a circle
# of radius &#61; 200 km centered on Pratt.
grav_cpt &#61; makecpt&#40;color&#61;:rainbow, range&#61;&#40;-60,60&#41;&#41;;
grdimage&#40;&quot;@AK_gulf_grav.nc&quot;, shade&#61;:default, frame&#61;&#40;annot&#61;2,ticks&#61;1&#41;, proj&#61;:merc, figsize&#61;14, xshift&#61;3.8, yshift&#61;14.9&#41;
coast&#33;&#40;region&#61;&quot;@AK_gulf_grav.nc&quot;, land&#61;:gray, shore&#61;:thinnest&#41;
colorbar&#33;&#40;pos&#61;&#40;anchor&#61;:BC, offset&#61;&#40;0,1&#41;&#41;, xaxis&#61;&#40;annot&#61;20, ticks&#61;10&#41;, ylabel&#61;&quot;mGal&quot;&#41;
text&#33;&#40;text_record&#40;pratt, &quot;Pratt&quot;&#41;, font&#61;&#40;12,&quot;Helvetica-Bold&quot;&#41;, justify&#61;:LB, offset&#61;&quot;8p&quot;&#41;
plot&#33;&#40;pratt, marker&#61;&quot;E-&quot;, markerline&#61;:thinnest&#41;

# Then draw 10 mGal contours and overlay 50 mGal contour in green
grdcontour&#33;&#40;&quot;@AK_gulf_grav.nc&quot;, cont&#61;20, frame&#61;&#40;axes&#61;:WSEn, annot&#61;2, ticks&#61;1&#41;, yshift&#61;-12.3&#41;
# Save 50 mGal contours to individual files, then plot them
grdcontour&#33;&#40;&quot;@AK_gulf_grav.nc&quot;, cont&#61;10, range&#61;&#40;49,51&#41;, dump&#61;&quot;sm_&#37;c.txt&quot;&#41;
plot&#33;&#40;&quot;sm_C.txt&quot;, lw&#61;:thin, lc&#61;:green&#41;
coast&#33;&#40;land&#61;:gray, shore&#61;:thinnest&#41;
plot&#33;&#40;pratt, marker&#61;&quot;E-&quot;, markerline&#61;:thinnest&#41;

# Now determine centers of each enclosed seamount &gt; 50 mGal but only plot
# the ones within 200 km of Pratt seamount.

# First determine mean location of each closed contour and add it to the file centers.txt
centers &#61; gmtspatial&#40;&quot;sm_C.txt&quot;, length&#61;true, colinfo&#61;:g&#41;

# Only plot the ones within 200 km
t &#61; gmtselect&#40;centers, C&#61;&#40;pratt,&quot;200k&quot;&#41;, colinfo&#61;:g&#41;
plot&#33;&#40;t, marker&#61;:Circle, ms&#61;0.2, mc&#61;:red, MarkerLine&#61;:thinnest&#41;
plot&#33;&#40;pratt, marker&#61;:Triangle, ms&#61;0.25, fill&#61;:yellow, MarkerLine&#61;:thinnest&#41;

# Then report the volume and area of these seamounts only
# by masking out data outside the 200 km-radius circle
# and then evaluate area/volume for the 50 mGal contour

Gmask &#61; gmt&#40;string&#40;&quot;grdmath -R@AK_gulf_grav.nc &quot;, pratt&#91;1&#93;, &quot; &quot;, pratt&#91;2&#93;, &quot; SDIST &#61;&quot;&#41;&#41;
Gmask &#61; grdclip&#40;Gmask, above&#61;&#40;200, NaN&#41;, below&#61;&#40;200, 1&#41;&#41;
Gtmp &#61; gmt&#40;&quot;grdmath @AK_gulf_grav.nc ? MUL &#61;&quot;, Gmask&#41;;
av   &#61; grdvolume&#40;Gtmp, cont&#61;50, unit&#61;:k&#41;;

T &#61; mat2ds&#40;&#91;@sprintf&#40;&quot;Volumes: &#37;d mGal\\264km@&#43;2@&#43;&quot;, av.data&#91;3&#93;&#41;
    &quot;&quot;
    @sprintf&#40;&quot;Areas: &#37;.2f km@&#43;2@&#43;&quot;, av.data&#91;2&#93;&#41;&#93;, hdr&#61;&quot;&gt; -149 52.5 14p 2.6i j&quot;&#41;

text&#33;&#40;T, paragraph&#61;true, fill&#61;:white, pen&#61;:thin, offset&#61;0.75, font&#61;&#40;14,&quot;Helvetica-Bold&quot;&#41;,
      justify&#61;:LB, clearance&#61;0.25, show&#61;true&#41;</code></pre><pre><code class="plaintext code-output">Bad argument type (Tuple{Matrix{Float64}, String}) to option C
</code></pre>
<div class="page-foot">
    <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> . Last modified: October 23, 2023.
    Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
</div>
</div><!-- CONTENT ENDS HERE -->
    
    
        <script src="/ftest-makie/libs/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();hljs.configure({tabReplace: '    '});</script>

    
  </body>
</html>
